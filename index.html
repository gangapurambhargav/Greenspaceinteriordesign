<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GreenSpace Interior</title>
<style>
:root {
  --green:#1f7a5c;
  --green-dark:#135c45;
  --cream:#f5f3ef;
  --text:#222;
  --muted:#666;
  --white:#fff;
  --max:1200px;
  --radius:14px;
  --shadow:0 6px 24px rgba(0,0,0,.08);
}
* { box-sizing:border-box }
body { margin:0; font:16px/1.6 system-ui,Segoe UI,Roboto,Arial; color:var(--text); background:#fff }
a { color:var(--green); text-decoration:none }
img { max-width:100%; display:block }
header { position:sticky; top:0; z-index:50; background:#fff; border-bottom:1px solid #eee }
.nav { max-width:var(--max); margin:auto; display:flex; align-items:center; justify-content:space-between; padding:12px 20px }
.brand { font-weight:700; font-size:20px; color:var(--green-dark) }
.nav a { margin:0 10px; color:var(--text) }
.cta { background:var(--green); color:#fff; padding:10px 16px; border-radius:10px }
.hero { position:relative; background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.45)),url('hero.jpg') center/cover no-repeat; color:#fff }
.hero .inner { max-width:var(--max); margin:auto; padding:80px 20px 120px }
.hero h1 { font-size:44px; line-height:1.15; margin:0 0 10px }
.tag { font-size:18px; opacity:.95; margin-bottom:28px }
.hero .btns { display:flex; gap:12px; flex-wrap:wrap }
.btn { background:#fff; color:var(--green-dark); padding:12px 18px; border-radius:12px; font-weight:600 }
.btn.secondary { background:transparent; border:2px solid #fff; color:#fff }
.quick-book { background:var(--cream); border-top:1px solid #eee; border-bottom:1px solid #eee }
.quick-book .wrap { max-width:var(--max); margin:-60px auto 0; background:#fff; box-shadow:var(--shadow); display:grid; gap:10px; grid-template-columns:repeat(5,1fr); padding:14px; border-radius:14px }
.input, select, textarea { width:100%; padding:12px; border:1px solid #ddd; border-radius:10px }
.book-btn { background:var(--green); color:#fff; border:0; border-radius:10px; padding:12px 16px; font-weight:700; cursor:pointer }
section { padding:54px 20px }
.container { max-width:var(--max); margin:auto }
.section-title { font-size:28px; margin:0 0 20px }
.muted { color:var(--muted) }
.slider { position:relative; overflow:hidden; border-radius:var(--radius); box-shadow:var(--shadow) }
.slides { display:flex; transition:transform .5s ease }
.slide { min-width:100%; aspect-ratio:16/9; position:relative; background:#f3f3f3 }
.slide img { width:100%; height:100%; object-fit:cover }
.slide figcaption { position:absolute; left:0; right:0; bottom:0; background:linear-gradient(transparent,rgba(0,0,0,.65)); color:#fff; padding:16px }
.slider .controls { position:absolute; inset:0; display:flex; align-items:center; justify-content:space-between; padding:0 8px }
.slider button { background:rgba(0,0,0,.4); color:#fff; border:0; border-radius:50%; width:42px; height:42px; cursor:pointer }
.chips { display:flex; gap:8px; flex-wrap:wrap; margin-top:14px }
.chip { padding:8px 12px; border:1px solid #ddd; border-radius:999px; background:#fff; cursor:pointer }
.grid { display:grid; gap:16px }
@media(min-width:700px){.grid.cols-3{grid-template-columns:repeat(3,1fr)}}
@media(min-width:1000px){.grid.cols-4{grid-template-columns:repeat(4,1fr)}}
.card { border:1px solid #eee; border-radius:14px; padding:16px; background:#fff; box-shadow:var(--shadow) }
.steps { display:grid; gap:14px }
@media(min-width:900px){.steps{grid-template-columns:repeat(6,1fr)}}
.step { background:var(--cream); border-radius:12px; padding:14px; border:1px solid #eee; text-align:center }
.testis { display:grid; gap:16px }
@media(min-width:900px){.testis{grid-template-columns:repeat(3,1fr)}}
.testi { border:1px solid #eee; border-radius:14px; padding:16px; background:#fff; box-shadow:var(--shadow) }
.contact { display:grid; gap:20px }
@media(min-width:900px){.contact{grid-template-columns:2fr 1fr}}
footer { background:#0f1f19; color:#d7e6e0 }
.foot { max-width:var(--max); margin:auto; padding:34px 20px; display:grid; gap:20px }
@media(min-width:900px){.foot{grid-template-columns:2fr 1fr 1fr 1fr}}
.foot h5 { margin:0 0 10px; color:#fff }
.social a { display:inline-flex; align-items:center; justify-content:center; width:36px; height:36px; border-radius:50%; background:#11352b; margin-right:8px; color:#d7e6e0 }
.subfoot { border-top:1px solid #214a3c; padding:12px 20px; text-align:center }
</style>
</head>
<body>

<header>
  <nav class="nav">
    <div class="brand" id="brand">GreenSpace Interior</div>
    <div>
      <a href="#home">Home</a>
      <a href="#portfolio">Portfolio</a>
      <a href="#services">Services</a>
      <a href="#about">About Us</a>
      <a id="bookTop" href="#contact" class="cta">Book a Meeting</a>
    </div>
  </nav>
</header>

<main id="home">
  <section class="hero">
    <div class="inner">
      <h1 id="companyName">GreenSpace Interior</h1>
      <p id="tagline" class="tag">Designing spaces that breathe</p>
      <div class="btns">
        <a id="bookHero" href="#contact" class="btn">Book a Meeting</a>
        <a href="#portfolio" class="btn secondary">View Portfolio</a>
      </div>
    </div>
  </section>

  <div class="quick-book">
    <div class="wrap">
      <input class="input" id="qbName" type="text" placeholder="Your Name"/>
      <input class="input" id="qbPhone" type="tel" placeholder="Phone Number"/>
      <input class="input" id="qbEmail" type="email" placeholder="Email"/>
      <input class="input" id="qbDate" type="date"/>
      <button class="book-btn" id="qbBtn">Book Now</button>
    </div>
  </div>

  <section id="portfolio" class="container">
    <h2 class="section-title">Portfolio</h2>
    <div class="slider" id="slider">
      <div class="slides" id="slides"></div>
      <div class="controls">
        <button aria-label="Previous" id="prevBtn">‹</button>
        <button aria-label="Next" id="nextBtn">›</button>
      </div>
    </div>
    <div class="chips" id="chips"></div>
  </section>

  <section id="services" class="container">
    <h2 class="section-title">What We Do</h2>
    <p class="muted">End-to-end residential and commercial interiors — design to execution.</p>
    <div class="grid cols-4" id="servicesGrid"></div>
  </section>

  <section class="container">
    <h2 class="section-title">Our Process</h2>
    <div class="steps">
      <div class="step"><strong>1.</strong><br/>Consultation</div>
      <div class="step"><strong>2.</strong><br/>Site Visit</div>
      <div class="step"><strong>3.</strong><br/>2D Concepts</div>
      <div class="step"><strong>4.</strong><br/>3D Visuals</div>
      <div class="step"><strong>5.</strong><br/>Execution</div>
      <div class="step"><strong>6.</strong><br/>Handover</div>
    </div>
  </section>

  <section class="container">
    <h2 class="section-title">What Clients Say</h2>
    <div class="testis" id="testimonials"></div>
  </section>

  <section id="about" class="container">
    <h2 class="section-title">About Us</h2>
    <p id="aboutText">GreenSpace Interior delivers thoughtful, sustainable interiors tailored to your lifestyle. We serve Siddipet, Hyderabad, and nearby regions with a focus on quality, transparency, and on-time execution.</p>
  </section>

  <section id="contact" class="container">
    <h2 class="section-title">Contact Us</h2>
    <div class="contact">
      <form id="contactForm">
        <div class="row">
          <input class="input" name="name" placeholder="Full Name" required/>
          <input class="input" name="phone" type="tel" placeholder="Phone Number" required/>
        </div>
        <div class="row">
          <input class="input" name="email" type="email" placeholder="Email"/>
          <input class="input" name="city" placeholder="City"/>
        </div>
        <div class="row">
          <select class="input" name="type">
            <option>Project Type</option>
            <option>Residential</option>
            <option>Commercial</option>
          </select>
          <select class="input" name="budget">
            <option>Budget Range</option>
            <option>Under ₹5L</option>
            <option>₹5L–₹10L</option>
            <option>₹10L–₹25L</option>
            <option>₹25L+</option>
          </select>
        </div>
        <textarea class="input" name="message" rows="5" placeholder="Tell us about your space"></textarea>
        <label style="display:flex;gap:8px;align-items:center;margin:8px 0;">
          <input type="checkbox" required/> I consent to be contacted by GreenSpace Interior.
        </label>
        <button class="book-btn" type="submit">Submit Inquiry</button>
      </form>
      <aside>
        <h3>Reach Us</h3>
        <p><strong>Address:</strong> <span id="addr">Siddipet, TS</span></p>
        <p><strong>Phone:</strong> <span id="phone">+91-XXXXXXXXXX</span></p>
        <p><strong>Email:</strong> <span id="email">hello@greenspaceinterior.in</span></p>
        <p><strong>Hours:</strong> <span id="hours">Mon–Sat, 10 AM–7 PM</span></p>
        <div style="height:200px;background:#e8efe9;border-radius:12px;display:flex;align-items:center;justify-content:center;">
          Map Embed
        </div>
      </aside>
    </div>
  </section>
</main>

<footer>
  <div class="foot">
    <div>
      <h5>GreenSpace Interior</h5>
      <p id="footerTag">Designing spaces that breathe. Residential and commercial interiors across Telangana.</p>
      <div class="social">
        <a id="fb" href="#" aria-label="Facebook">f</a>
        <a id="tw" href="#" aria-label="X">x</a>
        <a id="ig" href="#" aria-label="Instagram">ig</a>
        <a id="yt" href="#" aria-label="YouTube">yt</a>
      </div>
    </div>
    <div>
      <h5>Company</h5>
      <div><a href="#home">Home</a></div>
      <div><a href="#about">About Us</a></div>
      <div><a href="#portfolio">Portfolio</a></div>
      <div><a href="#contact">Contact Us</a></div>
      <div><a id="bookFoot" href="#contact">Book a Meeting</a></div>
    </div>
    <div>
      <h5>Legal</h5>
      <div><a href="#cookies">Cookies Policy</a></div>
      <div><a href="#privacy">Privacy Policy</a></div>
    </div>
    <div>
      <h5>Contact</h5>
      <div>Address: <span id="addrFoot">Siddipet, TS</span></div>
      <div>Phone: <span id="phoneFoot">+91-XXXXXXXXXX</span></div>
      <div>Email: <span id="emailFoot">hello@greenspaceinterior.in</span></div>
    </div>
  </div>
  <div class="subfoot">© <span id="yr"></span> GreenSpace Interior. All rights reserved.</div>
</footer>

<script>
const SHEET_ID = '1WpgN0KRMZFTo5auAlOjS_Th6tcOkw9hdk2ftDD25-80';

async function fetchSheet(tab){
  const url = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json&sheet=${encodeURIComponent(tab)}`;
  const res = await fetch(url);
  const text = await res.text();
  const json = JSON.parse(text.substring(text.indexOf('{'), text.lastIndexOf('}')+1));
  const cols = json.table.cols.map(c => c.label || c.id);
  return json.table.rows.map(r=>{
    const obj = {};
    r.c.forEach((c,i)=>{ obj[cols[i]] = c?.v ?? '' });
    return obj;
  });
}

function setIf(el, val){ if(val && el) el.textContent = val }
function setHref(id, val){ const el=document.getElementById(id); if(el && val) el.href = val }

function applySettings(settings){
  const map = {};
  settings.forEach(r=>{ if(r.key) map[r.key.trim()] = (r.value||'').toString().trim() });
  const company = map.company_name || 'GreenSpace Interior';
  document.title = company;
  setIf(document.getElementById('brand'), company);
  setIf(document.getElementById('companyName'), company);
  setIf(document.getElementById('tagline'), map.tagline || 'Designing spaces that breathe');
  setIf(document.getElementById('footerTag'), map.tagline || '');
  setIf(document.getElementById('addr'), map.address);
  setIf(document.getElementById('addrFoot'), map.address);
  setIf(document.getElementById('phone'), map.phone);
  setIf(document.getElementById('phoneFoot'), map.phone);
  setIf(document.getElementById('email'), map.email);
  setIf(document.getElementById('emailFoot'), map.email);
  const booking = map.booking_link || '#contact';
  setHref('bookTop', booking);
  setHref('bookHero', booking);
  setHref('bookFoot', booking);
  setHref('fb', map.facebook);
  setHref('tw', map.x || map.twitter);
  setHref('ig', map.instagram);
  setHref('yt', map.youtube);
  if (map.about_text) setIf(document.getElementById('aboutText'), map.about_text);
}

function renderPortfolio(rows){
  const slides = document.getElementById('slides');
  slides.innerHTML = '';
  const cats = new Set();
  rows.forEach(r=>{
    const fig = document.createElement('figure');
    fig.className = 'slide';
    const img = document.createElement('img');
    img.src = r.image_url || '';
    img.alt = `${r.title||''}${r.city?', '+r.city:''}`;
    fig.appendChild(img);
    const cap = document.createElement('figcaption');
    const year = r.year ? ` - ${r.year}` : '';
    cap.innerHTML = `<strong>${r.title||''}</strong> — ${r.city||''}${year}<div style="font-weight:400;opacity:.9">${r.caption||''}</div>`;
    fig.appendChild(cap);
    fig.dataset.category = (r.category||'').toLowerCase();
    slides.appendChild(fig);
    if(r.category) cats.add(r.category);
  });
  let idx=0;
  const total = slides.children.length;
  function go(delta){
    idx=(idx+delta+total)%total;
    slides.style.transform=`translateX(-${idx*100}%)`;
  }
  document.getElementById('prevBtn').onclick=()=>go(-1);
  document.getElementById('nextBtn').onclick=()=>go(1);
  if(total>1) setInterval(()=>go(1),5000);

  const chips = document.getElementById('chips');
  chips.innerHTML = '';
  const addChip = (label, filterFn)=>{
    const b=document.createElement('button');
    b.className='chip';
    b.textContent=label;
    b.onclick=()=>{
      [...slides.children].forEach((el)=>{
        el.style.display = filterFn(el) ? '' : 'none';
      });
      idx=0;
      slides.style.transform='translateX(0)';
    };
    chips.appendChild(b);
  };
  addChip('All', ()=>true);
  cats.forEach(c=>{
    const lc = c.toLowerCase();
    addChip(c, el => (el.dataset.category||'')===lc);
  });
}

function renderServices(rows){
  const grid = document.getElementById('servicesGrid');
  grid.innerHTML = '';
  rows.forEach(r=>{
    const card = document.createElement('div');
    card.className='card';
    card.innerHTML = `<div style="display:flex;gap:12px;">${r.icon_url ? `<img src="${r.icon_url}" alt="" style="width:36px;height:36px;object-fit:contain">` : ''}<div><h4 style="margin:0 0 6px">${r.name||''}</h4><div>${r.blurb||''}</div></div></div>`;
    grid.appendChild(card);
  });
}

function renderTestimonials(rows){
  const wrap = document.getElementById('testimonials');
  wrap.innerHTML = '';
  rows.forEach(r=>{
    const t = document.createElement('div');
    t.className='testi';
    t.innerHTML = `<div style="display:flex;gap:12px;align-items:flex-start">${r.avatar_url ? `<img src="${r.avatar_url}" alt="" style="width:40px;height:40px;border-radius:50%;object-fit:cover">` : ''}<div><div style="font-style:italic">“${r.quote||''}”</div><div style="margin-top:6px;font-weight:600">${r.name||''}</div></div></div>`;
    wrap.appendChild(t);
  });
}

document.getElementById('qbBtn').addEventListener('click', ()=>{
  const name = document.getElementById('qbName').value.trim();
  const email = document.getElementById('qbEmail').value.trim();
  const date = document.getElementById('qbDate').value;
  const bookLink = document.getElementById('bookHero').href || '#contact';
  const url = new URL(bookLink, window.location.href);
  if(name) url.searchParams.set('name', name);
  if(email) url.searchParams.set('email', email);
  if(date) url.searchParams.set('date', date);
  window.open(url.toString(), '_blank');
});

document.getElementById('contactForm').addEventListener('submit', (e)=>{
  e.preventDefault();
  alert('Thank you! We will contact you shortly.');
});

(async function init(){
  document.getElementById('yr').textContent = new Date().getFullYear();
  try{
    const [settings, portfolio, services, testimonials] = await Promise.all([
      fetchSheet('Settings'),
      fetchSheet('Portfolio'),
      fetchSheet('Services'),
      fetchSheet('Testimonials')
    ]);
    applySettings(settings);
    renderPortfolio(portfolio);
    renderServices(services);
    renderTestimonials(testimonials);
  }catch(err){
    console.error('Data load failed', err);
  }
})();
</script>
</body>
</html>
